make -C simple test
make[1]: Entering directory '/home/jrivera/projects/github/gluster-kubernetes/tests/simple'
./run.sh
~/projects/github/gluster-kubernetes/tests/simple/gk-deploy ~/projects/github/gluster-kubernetes/tests/simple
running tests in /home/jrivera/projects/github/gluster-kubernetes/tests/simple/gk-deploy
time: 2017-08-14 21:55:34.865283Z
test: test script syntax
time: 2017-08-14 21:55:34.869108Z
success: test script syntax
time: 2017-08-14 21:55:34.870054Z
test: test shellcheck
time: 2017-08-14 21:55:35.271819Z
success: test shellcheck
time: 2017-08-14 21:55:35.273111Z
test: test missing topology
time: 2017-08-14 21:55:35.277642Z
success: test missing topology
time: 2017-08-14 21:55:35.278826Z
test: test cli not found
time: 2017-08-14 21:55:35.286293Z
success: test cli not found
time: 2017-08-14 21:55:35.287384Z
test: test cli does not exist
time: 2017-08-14 21:55:35.308791Z
success: test cli does not exist
time: 2017-08-14 21:55:35.309940Z
test: test cli unknown
time: 2017-08-14 21:55:35.332362Z
success: test cli unknown
time: 2017-08-14 21:55:35.333574Z
test: test namespace invalid
time: 2017-08-14 21:55:35.366861Z
success: test namespace invalid
time: 2017-08-14 21:55:35.368097Z
test: test namespace invalid kubectl
time: 2017-08-14 21:55:35.393643Z
success: test namespace invalid kubectl
time: 2017-08-14 21:55:35.394763Z
test: test namespace invalid unknown-cli
time: 2017-08-14 21:55:35.418531Z
success: test namespace invalid unknown-cli
~/projects/github/gluster-kubernetes/tests/simple
~/projects/github/gluster-kubernetes/tests/simple/shell ~/projects/github/gluster-kubernetes/tests/simple
running tests in /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell
time: 2017-08-14 21:55:35.435437Z
test: check basic syntax: watch.sh
time: 2017-08-14 21:55:35.437998Z
success: check basic syntax: watch.sh
time: 2017-08-14 21:55:35.439735Z
test: shellcheck: watch.sh
time: 2017-08-14 21:55:35.461976Z
success: shellcheck: watch.sh
time: 2017-08-14 21:55:35.463512Z
test: check basic syntax: up.sh
time: 2017-08-14 21:55:35.465598Z
success: check basic syntax: up.sh
time: 2017-08-14 21:55:35.467323Z
test: shellcheck: up.sh
time: 2017-08-14 21:55:35.491932Z
failure: shellcheck: up.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../vagrant/up.sh line 10:
  vagrant ssh-config > ssh-config
          ^-- SC2094: Make sure not to read and write the same file in the same pipeline.
                       ^-- SC2094: Make sure not to read and write the same file in the same pipeline.
]
time: 2017-08-14 21:55:35.494656Z
test: check basic syntax: demo-inside-wrapper.sh
time: 2017-08-14 21:55:35.497124Z
success: check basic syntax: demo-inside-wrapper.sh
time: 2017-08-14 21:55:35.498939Z
test: shellcheck: demo-inside-wrapper.sh
time: 2017-08-14 21:55:35.523445Z
success: shellcheck: demo-inside-wrapper.sh
time: 2017-08-14 21:55:35.525333Z
test: check basic syntax: demo-test-heketi.sh
time: 2017-08-14 21:55:35.527691Z
success: check basic syntax: demo-test-heketi.sh
time: 2017-08-14 21:55:35.529470Z
test: shellcheck: demo-test-heketi.sh
time: 2017-08-14 21:55:35.549989Z
success: shellcheck: demo-test-heketi.sh
time: 2017-08-14 21:55:35.551770Z
test: check basic syntax: demo-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.554461Z
success: check basic syntax: demo-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.556205Z
test: shellcheck: demo-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.617663Z
success: shellcheck: demo-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.619607Z
test: check basic syntax: demo-deploy.sh
time: 2017-08-14 21:55:35.622139Z
success: check basic syntax: demo-deploy.sh
time: 2017-08-14 21:55:35.623974Z
test: shellcheck: demo-deploy.sh
time: 2017-08-14 21:55:35.645299Z
success: shellcheck: demo-deploy.sh
time: 2017-08-14 21:55:35.646875Z
test: check basic syntax: util.sh
time: 2017-08-14 21:55:35.649018Z
success: check basic syntax: util.sh
time: 2017-08-14 21:55:35.650702Z
test: shellcheck: util.sh
time: 2017-08-14 21:55:35.702499Z
failure: shellcheck: util.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../vagrant/demo/util.sh line 62:
    DEMO_RUN_STDOUT="$(tail -n +2 "${OFILE}" | sed 's/\r//g')"
    ^-- SC2034: DEMO_RUN_STDOUT appears unused. Verify it or export it.
]
time: 2017-08-14 21:55:35.705310Z
test: check basic syntax: demo-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.707808Z
success: check basic syntax: demo-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.709626Z
test: shellcheck: demo-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.730224Z
success: shellcheck: demo-dynamic-provisioning.sh
time: 2017-08-14 21:55:35.732023Z
test: check basic syntax: demo-status.sh
time: 2017-08-14 21:55:35.734490Z
success: check basic syntax: demo-status.sh
time: 2017-08-14 21:55:35.736153Z
test: shellcheck: demo-status.sh
time: 2017-08-14 21:55:35.755645Z
success: shellcheck: demo-status.sh
time: 2017-08-14 21:55:35.757578Z
test: check basic syntax: demo-inside-status.sh
time: 2017-08-14 21:55:35.759888Z
success: check basic syntax: demo-inside-status.sh
time: 2017-08-14 21:55:35.761648Z
test: shellcheck: demo-inside-status.sh
time: 2017-08-14 21:55:35.777807Z
success: shellcheck: demo-inside-status.sh
time: 2017-08-14 21:55:35.779631Z
test: check basic syntax: demo-inside-test-heketi.sh
time: 2017-08-14 21:55:35.782317Z
success: check basic syntax: demo-inside-test-heketi.sh
time: 2017-08-14 21:55:35.784012Z
test: shellcheck: demo-inside-test-heketi.sh
time: 2017-08-14 21:55:35.811856Z
success: shellcheck: demo-inside-test-heketi.sh
time: 2017-08-14 21:55:35.813600Z
test: check basic syntax: demo-inside-prepare.sh
time: 2017-08-14 21:55:35.815838Z
success: check basic syntax: demo-inside-prepare.sh
time: 2017-08-14 21:55:35.817299Z
test: shellcheck: demo-inside-prepare.sh
time: 2017-08-14 21:55:35.834244Z
success: shellcheck: demo-inside-prepare.sh
time: 2017-08-14 21:55:35.835806Z
test: check basic syntax: demo-prepare.sh
time: 2017-08-14 21:55:35.838336Z
success: check basic syntax: demo-prepare.sh
time: 2017-08-14 21:55:35.839992Z
test: shellcheck: demo-prepare.sh
time: 2017-08-14 21:55:35.865502Z
success: shellcheck: demo-prepare.sh
time: 2017-08-14 21:55:35.867043Z
test: check basic syntax: demo-inside-deploy.sh
time: 2017-08-14 21:55:35.869153Z
success: check basic syntax: demo-inside-deploy.sh
time: 2017-08-14 21:55:35.871116Z
test: shellcheck: demo-inside-deploy.sh
time: 2017-08-14 21:55:35.891513Z
success: shellcheck: demo-inside-deploy.sh
time: 2017-08-14 21:55:35.893325Z
test: check basic syntax: install.sh
time: 2017-08-14 21:55:35.895713Z
success: check basic syntax: install.sh
time: 2017-08-14 21:55:35.897490Z
test: shellcheck: install.sh
time: 2017-08-14 21:55:35.917269Z
success: shellcheck: install.sh
time: 2017-08-14 21:55:35.919111Z
test: check basic syntax: rollback.sh
time: 2017-08-14 21:55:35.921617Z
success: check basic syntax: rollback.sh
time: 2017-08-14 21:55:35.923379Z
test: shellcheck: rollback.sh
time: 2017-08-14 21:55:35.946370Z
success: shellcheck: rollback.sh
time: 2017-08-14 21:55:35.948077Z
test: check basic syntax: docker-cache.sh
time: 2017-08-14 21:55:35.950560Z
success: check basic syntax: docker-cache.sh
time: 2017-08-14 21:55:35.952371Z
test: shellcheck: docker-cache.sh
time: 2017-08-14 21:55:35.984342Z
success: shellcheck: docker-cache.sh
time: 2017-08-14 21:55:35.986148Z
test: check basic syntax: refresh.sh
time: 2017-08-14 21:55:35.988504Z
success: check basic syntax: refresh.sh
time: 2017-08-14 21:55:35.990224Z
test: shellcheck: refresh.sh
time: 2017-08-14 21:55:36.007913Z
success: shellcheck: refresh.sh
time: 2017-08-14 21:55:36.009688Z
test: check basic syntax: watch.sh
time: 2017-08-14 21:55:36.012214Z
success: check basic syntax: watch.sh
time: 2017-08-14 21:55:36.014074Z
test: shellcheck: watch.sh
time: 2017-08-14 21:55:36.029485Z
success: shellcheck: watch.sh
time: 2017-08-14 21:55:36.031199Z
test: check basic syntax: docker-registry-run.sh
time: 2017-08-14 21:55:36.033486Z
success: check basic syntax: docker-registry-run.sh
time: 2017-08-14 21:55:36.035254Z
test: shellcheck: docker-registry-run.sh
time: 2017-08-14 21:55:36.050834Z
success: shellcheck: docker-registry-run.sh
time: 2017-08-14 21:55:36.052586Z
test: check basic syntax: test-inside-gk-deploy.sh
time: 2017-08-14 21:55:36.055041Z
success: check basic syntax: test-inside-gk-deploy.sh
time: 2017-08-14 21:55:36.056847Z
test: shellcheck: test-inside-gk-deploy.sh
time: 2017-08-14 21:55:36.099765Z
success: shellcheck: test-inside-gk-deploy.sh
time: 2017-08-14 21:55:36.101387Z
test: check basic syntax: test-gk-deploy.sh
time: 2017-08-14 21:55:36.103931Z
success: check basic syntax: test-gk-deploy.sh
time: 2017-08-14 21:55:36.105754Z
test: shellcheck: test-gk-deploy.sh
time: 2017-08-14 21:55:36.127142Z
success: shellcheck: test-gk-deploy.sh
time: 2017-08-14 21:55:36.128727Z
test: check basic syntax: test-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.131157Z
success: check basic syntax: test-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.132904Z
test: shellcheck: test-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.154986Z
success: shellcheck: test-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.156670Z
test: check basic syntax: test-setup.sh
time: 2017-08-14 21:55:36.158686Z
success: check basic syntax: test-setup.sh
time: 2017-08-14 21:55:36.160141Z
test: shellcheck: test-setup.sh
time: 2017-08-14 21:55:36.178817Z
success: shellcheck: test-setup.sh
time: 2017-08-14 21:55:36.180586Z
test: check basic syntax: test-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.183358Z
success: check basic syntax: test-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.185244Z
test: shellcheck: test-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.261249Z
success: shellcheck: test-inside-dynamic-provisioning.sh
time: 2017-08-14 21:55:36.262832Z
test: check basic syntax: lib.sh
time: 2017-08-14 21:55:36.265691Z
success: check basic syntax: lib.sh
time: 2017-08-14 21:55:36.267429Z
test: shellcheck: lib.sh
time: 2017-08-14 21:55:36.383410Z
success: shellcheck: lib.sh
time: 2017-08-14 21:55:36.384917Z
test: check basic syntax: test-teardown.sh
time: 2017-08-14 21:55:36.387124Z
success: check basic syntax: test-teardown.sh
time: 2017-08-14 21:55:36.388918Z
test: shellcheck: test-teardown.sh
time: 2017-08-14 21:55:36.408260Z
success: shellcheck: test-teardown.sh
time: 2017-08-14 21:55:36.410123Z
test: check basic syntax: run.sh
time: 2017-08-14 21:55:36.412522Z
success: check basic syntax: run.sh
time: 2017-08-14 21:55:36.414288Z
test: shellcheck: run.sh
time: 2017-08-14 21:55:36.436212Z
success: shellcheck: run.sh
time: 2017-08-14 21:55:36.437780Z
test: check basic syntax: test_gk_deploy_basic.sh
time: 2017-08-14 21:55:36.440206Z
success: check basic syntax: test_gk_deploy_basic.sh
time: 2017-08-14 21:55:36.441750Z
test: shellcheck: test_gk_deploy_basic.sh
time: 2017-08-14 21:55:36.514264Z
success: shellcheck: test_gk_deploy_basic.sh
time: 2017-08-14 21:55:36.515925Z
test: check basic syntax: run.sh
time: 2017-08-14 21:55:36.518237Z
success: check basic syntax: run.sh
time: 2017-08-14 21:55:36.519792Z
test: shellcheck: run.sh
time: 2017-08-14 21:55:36.540662Z
success: shellcheck: run.sh
time: 2017-08-14 21:55:36.542260Z
test: check basic syntax: shell_tests.sh
time: 2017-08-14 21:55:36.544643Z
success: check basic syntax: shell_tests.sh
time: 2017-08-14 21:55:36.546390Z
test: shellcheck: shell_tests.sh
time: 2017-08-14 21:55:36.564410Z
success: shellcheck: shell_tests.sh
time: 2017-08-14 21:55:36.566210Z
test: check basic syntax: test_syntax.sh
time: 2017-08-14 21:55:36.568543Z
success: check basic syntax: test_syntax.sh
time: 2017-08-14 21:55:36.570164Z
test: shellcheck: test_syntax.sh
time: 2017-08-14 21:55:36.602398Z
failure: shellcheck: test_syntax.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 3:
SCRIPT_DIR=$(cd $(dirname ${0}); pwd)
             ^-- SC2164: Use cd ... || exit in case cd fails.
                ^-- SC2046: Quote this to prevent word splitting.
                          ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 15:
	yamllint -f parsable -d relaxed ${yaml}
                                        ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 19:
	check_yaml ${1}
                   ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 35:
		check_invalid_yaml ${FAULTY_YAML} \
                                   ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 38:
	for yaml in $(find ${DEPLOY_DIR} -name "*.yaml") ; do
                    ^-- SC2044: For loops over find output are fragile. Use find -exec or a while read loop.
                           ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 39:
		testit "check $(basename ${yaml})" \
                                         ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 40:
			check_yaml ${yaml} \
                                   ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/test_syntax.sh line 45:
testok $0 ${failed}
       ^-- SC2086: Double quote to prevent globbing and word splitting.
]
time: 2017-08-14 21:55:36.604853Z
test: check basic syntax: run.sh
time: 2017-08-14 21:55:36.607313Z
success: check basic syntax: run.sh
time: 2017-08-14 21:55:36.609012Z
test: shellcheck: run.sh
time: 2017-08-14 21:55:36.627582Z
failure: shellcheck: run.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/yaml/run.sh line 3:
SCRIPT_DIR=$(cd $(dirname $0); pwd)
             ^-- SC2164: Use cd ... || exit in case cd fails.
                ^-- SC2046: Quote this to prevent word splitting.
                          ^-- SC2086: Double quote to prevent globbing and word splitting.
]
time: 2017-08-14 21:55:36.629974Z
test: check basic syntax: test_syntax.sh
time: 2017-08-14 21:55:36.632455Z
success: check basic syntax: test_syntax.sh
time: 2017-08-14 21:55:36.634196Z
test: shellcheck: test_syntax.sh
time: 2017-08-14 21:55:36.664847Z
failure: shellcheck: test_syntax.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 3:
SCRIPT_DIR=$(cd $(dirname ${0}); pwd)
             ^-- SC2164: Use cd ... || exit in case cd fails.
                ^-- SC2046: Quote this to prevent word splitting.
                          ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 7:
DEPLOY_DIR="${BASE_DIR}/deploy"
^-- SC2034: DEPLOY_DIR appears unused. Verify it or export it.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 9:
FAULTY_YAML="${SCRIPT_DIR}/glusterfs-daemonset-wrong.yaml"
^-- SC2034: FAULTY_YAML appears unused. Verify it or export it.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 16:
for script in $(find ${BASE_DIR} -name "*.sh" | grep -v "subunit.sh") ; do
                     ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 17:
	testit "check basic syntax: $(basename ${script})" \
                                               ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 18:
		test_shell_syntax ${script} \
                                  ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 20:
	testit "shellcheck: $(basename ${script})" \
                                       ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 21:
		test_shellcheck ${script} \
                                ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/test_syntax.sh line 25:
testok $0 ${failed}
       ^-- SC2086: Double quote to prevent globbing and word splitting.
]
time: 2017-08-14 21:55:36.666955Z
test: check basic syntax: run.sh
time: 2017-08-14 21:55:36.669201Z
success: check basic syntax: run.sh
time: 2017-08-14 21:55:36.670713Z
test: shellcheck: run.sh
time: 2017-08-14 21:55:36.689557Z
failure: shellcheck: run.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/shell/run.sh line 3:
SCRIPT_DIR=$(cd $(dirname $0); pwd)
             ^-- SC2164: Use cd ... || exit in case cd fails.
                ^-- SC2046: Quote this to prevent word splitting.
                          ^-- SC2086: Double quote to prevent globbing and word splitting.
]
time: 2017-08-14 21:55:36.691558Z
test: check basic syntax: run.sh
time: 2017-08-14 21:55:36.693602Z
success: check basic syntax: run.sh
time: 2017-08-14 21:55:36.695026Z
test: shellcheck: run.sh
time: 2017-08-14 21:55:36.716837Z
failure: shellcheck: run.sh [
/usr/bin/shellcheck

In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/run.sh line 3:
SCRIPT_DIR=$(cd $(dirname $0); pwd)
             ^-- SC2164: Use cd ... || exit in case cd fails.
                ^-- SC2046: Quote this to prevent word splitting.
                          ^-- SC2086: Double quote to prevent globbing and word splitting.


In /home/jrivera/projects/github/gluster-kubernetes/tests/simple/shell/../../../tests/simple/run.sh line 14:
	pushd ${testdir}
              ^-- SC2086: Double quote to prevent globbing and word splitting.
]
~/projects/github/gluster-kubernetes/tests/simple
Makefile:2: recipe for target 'test' failed
make[1]: Leaving directory '/home/jrivera/projects/github/gluster-kubernetes/tests/simple'
Makefile:4: recipe for target 'simple-tests' failed
